"use strict";var M=Object.create;var p=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var H=(t,e)=>{for(var n in e)p(t,n,{get:e[n],enumerable:!0})},L=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of W(e))!F.call(t,o)&&o!==n&&p(t,o,{get:()=>e[o],enumerable:!(i=k(e,o))||i.enumerable});return t};var X=(t,e,n)=>(n=t!=null?M(N(t)):{},L(e||!t||!t.__esModule?p(n,"default",{value:t,enumerable:!0}):n,t)),Z=t=>L(p({},"__esModule",{value:!0}),t);var Q={};H(Q,{default:()=>C});module.exports=Z(Q);var O=X(require("lottie-web"),1);var I=require("howler"),s=class extends I.Howl{constructor(e){super(e)}manualSeek(e){return super.seek(e)}manualPlay(){return super.play()}manualRate(e){return super.rate(e)}manualVolume(e){return super.volume(e)}playing(){return!1}setVolume(){}seek(){return super.seek()}rate(){return super.rate()}pause(){return this}play(){return-1}};var x=`/* prevent zoom */
svg.lottie-controller {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  overflow: visible;
}
svg.lottie-controller > g[clip-path] {
  clip-path: unset;
}
svg.lottie-controller * {
  touch-action: none;
  box-sizing: border-box;
  user-select: none;
  -webkit-user-select: none;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL1VzZXJzL21hdG9zZWIvRG9jdW1lbnRzL0dpdEh1Yi91c2Vsb3R0aWUvc3JjL3VzZWxvdHRpZSIsInNvdXJjZXMiOlsiaW5kZXguc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTs7QUFHRjtFQUNFO0VBQ0E7RUFDQTtFQUNBIiwic291cmNlc0NvbnRlbnQiOlsiLyogcHJldmVudCB6b29tICovXG5cbnN2Zy5sb3R0aWUtY29udHJvbGxlciB7XG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO1xuICBvdmVyZmxvdzogdmlzaWJsZTtcblxuICA+IGdbY2xpcC1wYXRoXSB7XG4gICAgY2xpcC1wYXRoOiB1bnNldDtcbiAgfVxuXG4gICoge1xuICAgIHRvdWNoLWFjdGlvbjogbm9uZTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gIH1cbn1cbiJdfQ== */`;function R(t,e){return t.markers.find(n=>n.payload.name===e)}function B(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function w(t,e,n=!0){let i=t.loop?0:1,o=[];if(e.split(",").filter(Boolean).slice(0,2).map((g,f)=>{let u=R(t,g.trim());if(!u)return;let c=u.time+(f>0?i:0);o.push(c)}),o.length<=1){t.goToAndStop(o[0]||0,!0);return}t.playSegments(o,n)}function b(t,e=document){return e.querySelector(t)}function V(t,e=document){return Array.from(e.querySelectorAll(t))}function v(t,e){return Math.random()*(e-t)+t}function S(t){return t.charAt(0).toUpperCase()+t.slice(1)}var m=class{animation=null;container=null;player;debug=!1;volumeVariation;rateVariation;constructor(e={}){let{debug:n=!1,injectCSS:i=!0,volumeVariation:o=0,rateVariation:g=0,howlerOptions:f={},...u}=e;if(this.debug=n,this.volumeVariation=o,this.rateVariation=g,i){let r=document.querySelector("style[data-type=lottie-controller]");r||(r=document.createElement("style"),r.setAttribute("data-type","lottie-controller"),r.innerHTML=x,document.body.appendChild(r))}this.container=typeof e.container=="string"?(()=>{let r=b(e.container);if(!r)throw new Error(`Element not found: ${e.container}`);return r})():e.container||document.body,this.player=O.default.loadAnimation({renderer:"svg",loop:!1,autoplay:!1,audioFactory(r){return new s({src:r,html5:!!B(),...f})},...u,container:this.container}),this.player.addEventListener("DOMLoaded",()=>{let{fileName:r}=this.player;document.title=S(r);let a=this.getElem();a&&(a.dataset.filename=this.player.fileName,a.classList.add("lottie-controller"),a.addEventListener("contextmenu",l=>(l.preventDefault(),l.stopPropagation(),!1),!0))});let c=1/0;this.player.addEventListener("enterFrame",r=>{if(r.direction!==1||this.player.isPaused)return;let{audios:a}=this.player.audioController||{audios:[]},l=this.player.firstFrame+this.player.currentFrame;a.forEach(({audio:d,data:h})=>{let{st:y}=h;if(y<=l&&y>c){let E=this.rateVariation*.5;d.manualRate(v(1-E,1+E)),d.manualVolume(v(1-this.volumeVariation,1));let A={audios:a,audio:d,data:h,willPlay:!0};this.player.triggerEvent("audio",A),A.willPlay&&d.manualPlay()}}),c=l})}onComplete=e=>this.player.addEventListener("complete",e);onLoad=e=>this.player.addEventListener("DOMLoaded",e);onAudio=e=>this.player.addEventListener("audio",e);getElem=(e,n)=>(n||(n=this.player.renderer.svgElement),e?b(e,n||void 0):n);getElems=(e,n)=>(n||(n=this.player.renderer.svgElement),V(e,n||void 0));isPlaying=(...e)=>this.animation!==null&&e.includes(this.animation);currentAnimation=()=>this.animation;play=(e,{loop:n=!1,force:i=!0}={})=>{this.animation=e;let o=this.getElem();o&&(o.dataset.animation=e),this.player.loop=n,this.debug&&console.log("playing:",e),w(this.player,e,i)};destroy=()=>{this.player.destroy()}};function C(t){return new m(t)}globalThis.useLottie=C;
//# sourceMappingURL=index.js.map
