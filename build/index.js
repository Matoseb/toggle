"use strict";var z=Object.create;var h=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,Q=Object.prototype.hasOwnProperty;var U=(t,e)=>{for(var n in e)h(t,n,{get:e[n],enumerable:!0})},x=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of D(e))!Q.call(t,o)&&o!==n&&h(t,o,{get:()=>e[o],enumerable:!(r=W(e,o))||r.enumerable});return t};var I=(t,e,n)=>(n=t!=null?z(P(t)):{},x(e||!t||!t.__esModule?h(n,"default",{value:t,enumerable:!0}):n,t)),Z=t=>x(h({},"__esModule",{value:!0}),t);var J={};U(J,{default:()=>v});module.exports=Z(J);var R=I(require("lottie-web"),1);var O=require("howler"),p=class extends O.Howl{constructor(e){super(e)}manualSeek(e){return super.seek(e)}manualPlay(){return super.play()}manualRate(e){return super.rate(e)}manualVolume(e){return super.volume(e)}playing(){return!1}setVolume(){}seek(){return super.seek()}rate(){return super.rate()}pause(){return this}play(){return-1}};var B=`/* prevent zoom */
svg.lottie-controller {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  overflow: visible;
}
svg.lottie-controller > g[clip-path] {
  clip-path: unset;
}
svg.lottie-controller * {
  touch-action: none;
  box-sizing: border-box;
  user-select: none;
  -webkit-user-select: none;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2hvbWUvcnVubmVyL3dvcmsvdXNlbG90dGllL3VzZWxvdHRpZS9zcmMvdXNlbG90dGllIiwic291cmNlcyI6WyJpbmRleC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBRUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFOztBQUdGO0VBQ0U7RUFDQTtFQUNBO0VBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBwcmV2ZW50IHpvb20gKi9cblxuc3ZnLmxvdHRpZS1jb250cm9sbGVyIHtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7XG4gIG92ZXJmbG93OiB2aXNpYmxlO1xuXG4gID4gZ1tjbGlwLXBhdGhdIHtcbiAgICBjbGlwLXBhdGg6IHVuc2V0O1xuICB9XG5cbiAgKiB7XG4gICAgdG91Y2gtYWN0aW9uOiBub25lO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgfVxufVxuIl19 */`;var G=I(require("tinycolor2"),1);function w(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function b(t,e=document){return e.querySelector(t)}function M(t,e=document){return Array.from(e.querySelectorAll(t))}function A(t,e){return Math.random()*(e-t)+t}function d(t,e=1){return`${t/e*100}%`}function k(t){return t.charAt(0).toUpperCase()+t.slice(1)}function F(t){return typeof t=="number"?[t,t,t,t]:t.length===2?[t[0],t[1],t[0],t[1]]:t.length===3?[t[0],t[1],t[2],t[1]]:t.slice(0,4)}function N(...t){let{name:e,color:n="lightgray"}=this;if(!e)return console.log(...t);let r=(0,G.default)(n).getLuminance()>=.5?"black":"white";console.log(`%c${e}`,`color: ${r}; padding: 3px; border-radius: 3px; background-color: ${n};`,...t)}function T(t,e){return t.markers.find(n=>n.payload.name===e)||null}function C(t,e=null){let{totalFrames:n,currentFrame:r}=t,o=n-1;if(e===null)return[r>=o?0:r,o];if(typeof e=="number")return[e,o];if(typeof e!="string")return e;let a=!t.loop,s=[];return e.split(",").filter(Boolean).slice(0,2).forEach((m,y)=>{m=m.trim();let u=T(t,m);u!==null&&s.push(Y(u,a?y:0))}),s}function Y(t,e=0){return t.time+(e>0?1:0)}function H(t,e,n=!0){let r;Array.isArray(e)?r=e.map(o=>C(t,o)):r=C(t,e),t.playSegments(r,n)}function j(t,e=0){let[n,r]=t;return n+(r-n)*e}function X(t,e,n=1,r=!0){if(Array.isArray(e)&&Array.isArray(e[0])){let a=Math.min(1,Math.max(0,n)),s=Math.round(a*(e.length-1));e=e[s]}let o=C(t,e);t.goToAndStop(j(o,n),r)}var g=class t{animation=null;container=null;player;debug=!1;volumeVariation;rateVariation;constructor(e={}){let{debug:n=!1,injectCSS:r=!0,volumeVariation:o=0,rateVariation:a=0,filterSpread:s=.5,howlerOptions:m={},...y}=e;if(this.debug=n,this.volumeVariation=o,this.rateVariation=a,r){let i=document.querySelector("style[data-type=lottie-controller]");i||(i=document.createElement("style"),i.setAttribute("data-type","lottie-controller"),i.innerHTML=B,document.body.appendChild(i))}this.container=typeof e.container=="string"?(()=>{let i=b(e.container);if(!i)throw new Error(`Element not found: ${e.container}`);return i})():e.container||document.body,this.player=R.default.loadAnimation({renderer:"svg",loop:!1,autoplay:!1,rendererSettings:{filterSize:t.buildFilterSize(s)},audioFactory(i){return new p({src:i,html5:!!w(),...m})},...y,container:this.container}),this.player.addEventListener("DOMLoaded",()=>{let i=t.getName(this.player);document.title=k(i),this.log("DOMLoaded","lightblue")(this.player.path+this.player.fileName+".json");let l=this.getElem();l&&(l.dataset.filename=i,l.classList.add("lottie-controller"),l.addEventListener("contextmenu",c=>(c.preventDefault(),c.stopPropagation(),!1),!0))}),this.player.addEventListener("complete",()=>{this.log("complete","lightblue")(this.animation)}),this.player.addEventListener("loopComplete",()=>{this.log("loopComplete","lightblue")(this.animation)});let u=1/0;this.player.addEventListener("enterFrame",i=>{if(i.direction!==1||this.player.isPaused)return;let{audios:l}=this.player.audioController||{audios:[]},c=this.player.firstFrame+this.player.currentFrame;l.forEach(({audio:f,data:E})=>{let{st:L}=E;if(L<=c&&L>u){let V=this.rateVariation*.5;f.manualRate(A(1-V,1+V)),f.manualVolume(A(1-this.volumeVariation,1));let S={audios:l,audio:f,data:E,willPlay:!0};this.player.triggerEvent("audio",S),S.willPlay&&f.manualPlay()}}),u=c})}onComplete=e=>this.player.addEventListener("complete",e);onLoad=e=>this.player.addEventListener("DOMLoaded",e);onAudio=e=>this.player.addEventListener("audio",e);getElem=(e,n)=>(n||(n=this.player.renderer.svgElement),e?b(e,n||void 0):n);getElems=(e,n)=>(n||(n=this.player.renderer.svgElement),M(e,n||void 0));isPlaying=(...e)=>(e=e.map(t.getAnimationKey),this.animation!==null&&e.includes(this.animation));currentAnimation=()=>this.animation;seek=(e,{position:n=0,isFrame:r=!0}={})=>(this.player.loop=!1,this.setAnimation(e),this.log("seek","orange")(this.animation,n),X(this.player,e,n,r));getAnimation=()=>this.animation;setAnimation=(e=null)=>{e=t.getAnimationKey(e),this.animation=e;let n=this.getElem();if(n){if(e===null){n.removeAttribute("data-animation");return}n.setAttribute("data-animation",e)}};log=(e,n)=>this.debug?(...r)=>N.call({name:e,color:n},...r):()=>{};play=(e,{isFrame:n=!0,loop:r=!1,smooth:o=!1}={})=>{let a=!o;if(this.player.loop=r,typeof e=="number"){this.setAnimation(),this.player.goToAndPlay(e,n);return}return this.setAnimation(e),this.log("play","orange")(this.animation),H(this.player,e,a)};destroy=()=>{this.player.destroy()};static getName(e){let{fileName:n,path:r=""}=e;return!n||n==="data"?r.split("/").filter(Boolean).pop()||"untitled":n}static getAnimationKey(e=null){return e!==null&&(e=typeof e=="string"?e:JSON.stringify(e)),e}static buildFilterSize(e){let[n,r,o,a]=F(e);return{x:d(-a),y:d(-n),width:d(1+r+a),height:d(1+o+n)}}};function v(t){return new g(t)}globalThis.useLottie=v;
//# sourceMappingURL=index.js.map
