"use strict";var V=Object.create;var d=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var D=(t,e)=>{for(var n in e)d(t,n,{get:e[n],enumerable:!0})},w=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of I(e))!N.call(t,o)&&o!==n&&d(t,o,{get:()=>e[o],enumerable:!(i=H(e,o))||i.enumerable});return t};var L=(t,e,n)=>(n=t!=null?V(F(t)):{},w(e||!t||!t.__esModule?d(n,"default",{value:t,enumerable:!0}):n,t)),T=t=>w(d({},"__esModule",{value:!0}),t);var q={};D(q,{default:()=>v});module.exports=T(q);var O=L(require("lottie-web"),1),P=L(require("auto-bind"),1);var S=require("howler"),l=class extends S.Howl{constructor(e){super(e)}manualSeek(e){return super.seek(e)}manualPlay(){return super.play()}manualRate(e){return super.rate(e)}manualVolume(e){return super.volume(e)}playing(){return!1}setVolume(){}seek(){return super.seek()}rate(){return super.rate()}pause(){return this}play(){return-1}};var M=`/* prevent zoom */
.lottie-controller {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  overflow: visible;
}
.lottie-controller * {
  touch-action: none;
  box-sizing: border-box;
  user-select: none;
  -webkit-user-select: none;
}
.lottie-controller > g[clip-path] {
  clip-path: unset;
}`;function j(t,e){return t.markers.find(n=>n.payload.name===e)}function k(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}function x(t,e,n=!0){let i=t.loop?0:1,o=[];if(e.split(",").filter(Boolean).slice(0,2).map((c,f)=>{let m=j(t,c.trim());if(!m)return;let u=m.time+(f>0?i:0);o.push(u)}),o.length<=1){t.goToAndStop(o[0]||0,!0);return}t.playSegments(o,n)}function g(t,e=document){return e.querySelector(t)}function h(t,e){return Math.random()*(e-t)+t}function B(t){return t.charAt(0).toUpperCase()+t.slice(1)}var s=class{animation=null;player;debug=!1;volumeVariation;rateVariation;constructor(e={}){let{debug:n=!1,injectCSS:i=!0,volumeVariation:o=0,rateVariation:c=0,howlerOptions:f={},...m}=e;if(this.debug=n,this.volumeVariation=o,this.rateVariation=c,console.log(i),i){let r=document.querySelector("style[data-type=lottie-controller]");r||(r=document.createElement("style"),r.setAttribute("data-type","lottie-controller"),r.innerHTML=M,document.body.appendChild(r))}this.player=O.default.loadAnimation({renderer:"svg",loop:!1,autoplay:!1,audioFactory(r){return new l({src:r,html5:!!k(),...f})},...m,container:typeof e.container=="string"?(()=>{let r=g(e.container);if(!r)throw new Error(`Element not found: ${e.container}`);return r})():e.container||document.body}),this.player.addEventListener("DOMLoaded",()=>{document.title=B(this.player.fileName);let r=this.getElem();r&&(r.classList.add("lottie-controller"),r.addEventListener("contextmenu",a=>(a.preventDefault(),a.stopPropagation(),!1),!0))});let u=1/0;this.player.addEventListener("enterFrame",r=>{if(r.direction!==1||this.player.isPaused)return;let{audios:a}=this.player.audioController||{audios:[]},y=this.player.firstFrame+this.player.currentFrame;a.forEach(({audio:p,data:E})=>{let{st:C}=E;if(C<=y&&C>u){let b=this.rateVariation*.5;p.manualRate(h(1-b,1+b)),p.manualVolume(h(1-this.volumeVariation,1));let A={audios:a,audio:p,data:E,willPlay:!0};this.player.triggerEvent("audio",A),A.willPlay&&p.manualPlay()}}),u=y}),(0,P.default)(this)}onComplete(e){return this.player.addEventListener("complete",e)}onLoad(e){return this.player.addEventListener("DOMLoaded",e)}onAudio(e){return this.player.addEventListener("audio",e)}getElem(e,n){return n||(n=this.player.renderer.svgElement),e?g(e,n):n}isPlaying(...e){return this.animation!==null&&e.includes(this.animation)}currentAnimation(){return this.animation}play(e,{loop:n=!1,force:i=!0}={}){this.animation=e;let o=this.getElem();o&&o instanceof HTMLElement&&(o.dataset.animation=e),this.player.loop=n,this.debug&&console.log("playing:",e),x(this.player,e,i)}destroy(){this.player.destroy()}};function v(t){return new s(t)}globalThis.useLottie=v;
